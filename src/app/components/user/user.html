<div class="user-tabs-container">
  <div class="tabs">
    <button [class.active]="activeTab === 'create'" (click)="activeTab = 'create'">Create</button>
    <button [class.active]="activeTab === 'update'" (click)="activeTab = 'update'">Update</button>
    <button [class.active]="activeTab === 'view'" (click)="activeTab = 'view'">View</button>
    <button [class.active]="activeTab === 'delete'" (click)="activeTab = 'delete'">Delete</button>
  </div>

  <div class="tab-content">
    <!-- Create User -->
    @if (activeTab === 'create') {
      <div class="tab-section">
        <h2>Create User</h2>
        <form [formGroup]="userForm" (ngSubmit)="onSubmit()">
          <div class="form-group">
            <label for="username">Username:</label>
            <input type="text" id="username" formControlName="userName" placeholder="Enter your username" />
          </div>
      
          <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" formControlName="email" placeholder="Enter your email" />
          </div>
      
          <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" formControlName="password" placeholder="Enter your password" />
          </div>
      
          <button type="submit">Submit</button>
        </form>
      </div>
    }
    @if(activeTab === 'update'){
    <!-- Update User -->
    <div class="tab-section">
      <h2>Update User (coming soon...)</h2>
      <!-- We'll fill this in the next step -->
    </div>
    }

    @if (activeTab === 'view') {
  <div class="tab-section">
    <h2>All Users</h2>
    <button (click)="getAllUsers()">Refresh</button>

    <table class="user-table">
      <thead>
        <tr>
          <th>#</th>
          <th>Username</th>
          <th>Email</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users; index as i">
          <td>{{ i + 1 }}</td>
          <td>{{ user.userName }}</td>
          <td>{{ user.email }}</td>
        </tr>
      </tbody>
    </table>
  </div>
}

    
    @if (activeTab === 'delete') {
    <!-- Delete User -->
    <div class="tab-section">
      <h2>Delete User</h2>
      <button (click)="getAllUsers()">Refresh</button>
      <table class="user-table">
      <thead>
        <tr>
          <th>#</th>
          <th>Username</th>
          <th>Email</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let user of users; index as i">
          <td>{{ i + 1 }}</td>
          <td>{{ user.userName }}</td>
          <td>{{ user.email }}</td>
        </tr>
      </tbody>
    </table>
      <ul>
        <li *ngFor="let user of users">
          {{ user.userName }} - {{ user.email }}
          <button (click)="deleteUser(user.id)">Delete</button>
        </li>
      </ul>
    </div>
  }
  </div>
  
</div>
